!function(Q){var F={};function U(B){if(F[B])return F[B].exports;var n=F[B]={i:B,l:!1,exports:{}};return Q[B].call(n.exports,n,n.exports,U),n.l=!0,n.exports}U.m=Q,U.c=F,U.d=function(Q,F,B){U.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:B})},U.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},U.t=function(Q,F){if(1&F&&(Q=U(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var B=Object.create(null);if(U.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var n in Q)U.d(B,n,function(F){return Q[F]}.bind(null,n));return B},U.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return U.d(F,"a",F),F},U.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},U.p="",U(U.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/lib/Container.js\nconst Container = (params = {}) => {\n  const {\n    isHidden\n  } = params;\n  const position = {\n    x: 0,\n    y: 0\n  };\n  let nodes = [];\n  let currentIsHidden = isHidden;\n\n  const setState = newState => {\n    const {\n      nodeToAdd,\n      nodeToRemove,\n      callbackToMap,\n      clear = false,\n      isHidden = false\n    } = newState;\n\n    if (nodeToAdd) {\n      nodes.push(nodeToAdd);\n    }\n\n    if (nodeToRemove) {\n      nodes = nodes.filter(node => node != nodeToRemove);\n      return nodeToRemove;\n    }\n\n    if (callbackToMap) {\n      nodes.map(callbackToMap);\n    }\n\n    if (clear) {\n      nodes = [];\n    }\n\n    if (isHidden !== undefined) {\n      currentIsHidden = isHidden;\n    }\n  };\n\n  const getState = () => {\n    return {\n      nodes,\n      position,\n      update,\n      isHidden: currentIsHidden\n    };\n  };\n\n  const update = (deltaTime, currentTime) => {\n    nodes = nodes.filter(node => {\n      const {\n        update,\n        isDead\n      } = node.getState();\n\n      if (update) {\n        update(deltaTime, currentTime);\n      }\n\n      if (isDead === undefined) return true;\n      return isDead ? false : true;\n    });\n  };\n\n  return Object.freeze({\n    setState,\n    getState\n  });\n};\n\n/* harmony default export */ var lib_Container = (Container);\n// CONCATENATED MODULE: ./src/utils/math.js\nfunction randomFloat(min, max) {\n  if (max === undefined) {\n    max = min;\n    min = 0;\n  }\n\n  return Math.random() * (max - min) + min;\n}\n\nfunction randomInt(min, max) {\n  return Math.floor(randomFloat(min, max));\n}\n\nfunction randomOneIn(odds) {\n  return randomInt(odds) === 0;\n}\n\nfunction distance(positionObj1, positionObj2) {\n  const deltaX = positionObj1.x - positionObj2.x;\n  const deltaY = positionObj1.y - positionObj2.y; //a^2 + b^2 = c^2\n\n  return Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n}\n\nfunction clamp(val, min, max) {\n  return Math.max(min, Math.min(val, max));\n}\n\nfunction round(val) {\n  return Math.round(val);\n}\n\n\n// CONCATENATED MODULE: ./src/lib/CanvasRenderer.js\n\n\nconst CanvasRenderer = params => {\n  const {\n    width,\n    height\n  } = params;\n\n  if (!width || !height) {\n    console.error(`You must pass {width: \'your-game-width\', height: \'your-game-height\'} \n      into CanvasRenderer Constructor`);\n  }\n\n  const canvas = document.createElement("canvas");\n  canvas.width = width;\n  canvas.height = height;\n  const view = canvas;\n  const ctx = canvas.getContext("2d");\n\n  const render = (container, clear = true) => {\n    if (clear) ctx.clearRect(0, 0, width, height);\n    renderRecursive(container);\n\n    function renderRecursive(container) {\n      const {\n        nodes: parentContainerNodes\n      } = container.getState();\n      parentContainerNodes.forEach(node => {\n        const {\n          text = "",\n          texture,\n          tileWidth = 0,\n          tileHeight = 0,\n          frame = {\n            x: 0,\n            y: 0\n          },\n          nodes = [],\n          styles = {},\n          position = {\n            x: 0,\n            y: 0\n          },\n          scale = {\n            x: 1,\n            y: 1\n          },\n          rotation = 0,\n          pivot = {\n            x: 0,\n            y: 0\n          },\n          anchor = {\n            x: 0,\n            y: 0\n          },\n          isHidden = false\n        } = node.getState();\n        if (isHidden) return;\n        ctx.save();\n\n        if (position) {\n          const {\n            x,\n            y\n          } = position;\n          ctx.translate(round(x), round(y));\n        }\n\n        if (anchor) {\n          const {\n            x,\n            y\n          } = anchor;\n          ctx.translate(x, y);\n        }\n\n        if (scale) {\n          const {\n            x,\n            y\n          } = scale;\n          ctx.scale(x, y);\n        }\n\n        if (rotation) {\n          const {\n            x,\n            y\n          } = pivot;\n          ctx.translate(x, y);\n          ctx.rotate(rotation);\n          ctx.translate(-x, -y);\n        } //draw leaf nodes\n\n\n        if (text) {\n          const {\n            fill = "",\n            align = "",\n            font = ""\n          } = styles;\n          if (fill) ctx.fillStyle = fill;\n          if (align) ctx.textAlign = align;\n          if (font) ctx.font = font;\n          ctx.fillText(text, 0, 0);\n        }\n\n        if (tileWidth && tileHeight && frame && texture) {\n          const {\n            image\n          } = texture.getState();\n          ctx.drawImage(image, frame.x * tileWidth, frame.y * tileHeight, tileWidth, tileHeight, 0, 0, tileWidth, tileHeight);\n        } else if (texture) {\n          const {\n            image\n          } = texture.getState();\n          ctx.drawImage(image, 0, 0);\n        }\n\n        if (nodes.length != 0) {\n          renderRecursive(node);\n        }\n\n        ctx.restore();\n      });\n    }\n  };\n\n  const getState = () => {\n    return {\n      view,\n      render\n    };\n  };\n\n  return Object.freeze({\n    getState\n  });\n};\n\n/* harmony default export */ var lib_CanvasRenderer = (CanvasRenderer);\n// CONCATENATED MODULE: ./src/lib/Game.js\n\n\n\nconst Game = params => {\n  const {\n    width,\n    height,\n    parentElementIdentifier\n  } = params;\n  const scene = lib_Container();\n  const renderer = lib_CanvasRenderer({\n    width,\n    height\n  });\n  const {\n    view\n  } = renderer.getState();\n  document.querySelector(parentElementIdentifier).appendChild(view);\n  let deltaTime = 0;\n  let timeOfLastFrame = 0;\n\n  const run = (callback = () => {}) => {\n    requestAnimationFrame(loop);\n\n    function loop(ms) {\n      requestAnimationFrame(loop);\n      const currentTime = ms / 1000; //convert miliseconds to seconds\n\n      deltaTime = currentTime - timeOfLastFrame;\n      timeOfLastFrame = currentTime;\n      const {\n        update\n      } = scene.getState();\n      const {\n        render\n      } = renderer.getState();\n      update(deltaTime, currentTime);\n      callback(deltaTime, currentTime);\n      render(scene);\n    }\n  };\n\n  const add = nodeToAdd => {\n    scene.setState({\n      nodeToAdd\n    });\n  };\n\n  const remove = nodeToRemove => {\n    scene.setState({\n      nodeToRemove\n    });\n  };\n\n  const clearSceneGraph = () => {\n    scene.setState({\n      clear: true\n    });\n  };\n\n  return Object.freeze({\n    run,\n    add,\n    remove,\n    clearSceneGraph\n  });\n};\n\n/* harmony default export */ var lib_Game = (Game);\n// CONCATENATED MODULE: ./src/lib/Text.js\nconst Text = params => {\n  const {\n    //defaults\n    styles = {\n      fill: "#f1f0ee",\n      font: "20pt serif",\n      align: "center"\n    },\n    position = {\n      x: 0,\n      y: 0\n    },\n    isHidden = false\n  } = params;\n  let {\n    text: currentText = "this is placeholder text"\n  } = params;\n  let currentIsHidden = isHidden;\n\n  const setState = params => {\n    const {\n      text,\n      styles: newStyles = { ...styles\n      },\n      position: newPostion = {\n        x: position.x,\n        y: position.y\n      },\n      isHidden\n    } = params;\n    if (text) currentText = text;\n\n    if (!Object.entries(newStyles).length === 0) {\n      const {\n        fill = "",\n        align = "",\n        font = ""\n      } = newStyles;\n      if (fill) styles.fill = fill;\n      if (align) styles.align = align;\n      if (font) styles.font = font;\n    }\n\n    if (position.x !== undefined) position.x = newPostion.x;\n    if (position.y !== undefined) position.y = newPostion.y;\n\n    if (isHidden !== undefined) {\n      currentIsHidden = isHidden;\n      console.log(`currentIsHidden for ${currentText}`, currentIsHidden);\n    }\n  };\n\n  const getState = () => {\n    return {\n      text: currentText,\n      styles,\n      position,\n      isHidden: currentIsHidden\n    };\n  };\n\n  return Object.freeze({\n    setState,\n    getState\n  });\n};\n\n/* harmony default export */ var lib_Text = (Text);\n// CONCATENATED MODULE: ./src/lib/KeyboardControls.js\nconst KeyboardControls = () => {\n  const keys = {};\n  const keyCodes = {\n    leftArrow: 37,\n    upArrow: 38,\n    rightArrow: 39,\n    downArrow: 40,\n    aKey: 65,\n    dKey: 68,\n    wKey: 87,\n    sKey: 83,\n    spacebar: 32\n  };\n  document.addEventListener("keydown", handleKeyDown, false);\n  document.addEventListener("keyup", handleKeyUp, false);\n\n  function handleKeyUp(e) {\n    keys[e.which] = false;\n  }\n\n  function handleKeyDown(e) {\n    const {\n      leftArrow,\n      rightArrow,\n      upArrow,\n      downArrow\n    } = keyCodes;\n\n    if ([leftArrow, rightArrow, upArrow, downArrow].includes(e.which)) {\n      //prevent arrow keys from scrolling the page\n      e.preventDefault();\n    }\n\n    keys[e.which] = true;\n  }\n\n  function getState() {\n    const {\n      leftArrow,\n      rightArrow,\n      upArrow,\n      downArrow,\n      aKey,\n      dKey,\n      wKey,\n      sKey,\n      spacebar\n    } = keyCodes;\n    let inputVector = {\n      x: 0,\n      y: 0\n    };\n    let action = false;\n\n    if (keys[leftArrow] || keys[aKey]) {\n      inputVector.x = -1;\n    }\n\n    if (keys[upArrow] || keys[wKey]) {\n      inputVector.y = -1;\n    }\n\n    if (keys[rightArrow] || keys[dKey]) {\n      inputVector.x = 1;\n    }\n\n    if (keys[downArrow] || keys[sKey]) {\n      inputVector.y = 1;\n    }\n\n    if (keys[spacebar]) {\n      action = true;\n    }\n\n    return {\n      inputVector,\n      action\n    };\n  }\n\n  return Object.freeze({\n    getState\n  });\n};\n\n/* harmony default export */ var lib_KeyboardControls = (KeyboardControls);\n// CONCATENATED MODULE: ./src/lib/Texture.js\nconst Texture = params => {\n  const {\n    url = "./resources/place_holder.png"\n  } = params;\n  const image = document.createElement("img");\n  image.src = url;\n\n  const getState = () => {\n    return {\n      image\n    };\n  };\n\n  const setState = params => {\n    const {\n      url\n    } = params;\n    image.src = url;\n  };\n\n  return Object.freeze({\n    getState,\n    setState\n  });\n};\n\n/* harmony default export */ var lib_Texture = (Texture);\n// CONCATENATED MODULE: ./src/lib/Sprite.js\n\n\nconst Sprite = params => {\n  const {\n    textureUrl,\n    position = {\n      x: 0,\n      y: 0\n    },\n    anchor,\n    rotation,\n    pivot\n  } = params;\n  const currentPosition = position;\n  let texture = lib_Texture({\n    url: textureUrl\n  });\n\n  const getState = () => {\n    return {\n      texture,\n      position: currentPosition,\n      anchor,\n      rotation,\n      pivot\n    };\n  };\n\n  const setState = params => {\n    const {\n      textureUrl,\n      position\n    } = params;\n    if (textureUrl) texture = lib_Texture({\n      url: textureUrl\n    });\n    if (position.x !== undefined) currentPosition.x = position.x;\n    if (position.y !== undefined) currentPosition.y = position.y;\n  };\n\n  return Object.freeze({\n    getState,\n    setState\n  });\n};\n\n/* harmony default export */ var lib_Sprite = (Sprite);\n// CONCATENATED MODULE: ./src/entities/Bullet.js\n\n\nconst Bullet = params => {\n  const {\n    position,\n    movementConstraints\n  } = params;\n  const sprite = lib_Sprite({\n    textureUrl: "./resources/Bullet.png",\n    position\n  });\n  const speed = 400;\n  let currentIsDead = false;\n\n  const update = deltaTime => {\n    const {\n      position: currentPosition\n    } = sprite.getState();\n    let newX = currentPosition.x + speed * deltaTime;\n\n    if (newX > movementConstraints.x) {\n      console.log("dead bullet");\n      currentIsDead = true;\n    }\n\n    sprite.setState({\n      position: {\n        x: newX\n      }\n    });\n  };\n\n  const getState = () => {\n    const {\n      position,\n      texture\n    } = sprite.getState();\n    return {\n      position,\n      texture,\n      isDead: currentIsDead,\n      update\n    };\n  };\n\n  const setState = params => {\n    const {\n      isDead\n    } = params;\n\n    if (isDead) {\n      currentIsDead = isDead;\n    }\n  };\n\n  return Object.freeze({\n    getState,\n    setState\n  });\n};\n\n/* harmony default export */ var entities_Bullet = (Bullet);\n// CONCATENATED MODULE: ./src/entities/Spaceship.js\n\n\n\n\nconst Spaceship = params => {\n  const {\n    controls,\n    spawnPosition,\n    movementConstraints,\n    bulletContainer,\n    isHidden\n  } = params;\n  const sprite = lib_Sprite({\n    textureUrl: "./resources/Spaceship.png",\n    position: spawnPosition,\n    anchor: {\n      x: -16,\n      y: -16\n    }\n  });\n  const tileSize = 32;\n  const speed = 200;\n  const bulletFirePositionOffset = 12;\n  let currentIsHidden = isHidden;\n  let currentIsDead = false;\n  let timeOfLastBullet = 0;\n  let fireRate = 0.3;\n\n  const update = (deltaTime, currentTime) => {\n    const {\n      inputVector,\n      action\n    } = controls.getState();\n    const {\n      position: currentPosition\n    } = sprite.getState(); //handle movement\n\n    let newX = currentPosition.x + inputVector.x * speed * deltaTime;\n    let newY = currentPosition.y + inputVector.y * speed * deltaTime;\n    if (newX < 0) newX = 0;\n    if (newY < 0) newY = 0;\n\n    if (newX > movementConstraints.x - tileSize) {\n      newX = movementConstraints.x - tileSize;\n    }\n\n    if (newY > movementConstraints.y - tileSize) {\n      newY = movementConstraints.y - tileSize;\n    }\n\n    sprite.setState({\n      position: {\n        x: newX,\n        y: newY\n      }\n    }); //fire bullets\n\n    if (action && currentTime - timeOfLastBullet > fireRate) {\n      timeOfLastBullet = currentTime;\n      bulletContainer.setState({\n        nodeToAdd: entities_Bullet({\n          position: {\n            x: currentPosition.x + bulletFirePositionOffset,\n            y: currentPosition.y + bulletFirePositionOffset\n          },\n          movementConstraints\n        })\n      });\n    } else {}\n  };\n\n  const getState = () => {\n    const {\n      position,\n      texture\n    } = sprite.getState();\n    return {\n      position,\n      texture,\n      update,\n      isDead: currentIsDead,\n      isHidden: currentIsHidden\n    };\n  };\n\n  const setState = params => {\n    const {\n      isDead,\n      isHidden\n    } = params;\n\n    if (isDead) {\n      currentIsDead = isDead;\n    }\n\n    if (isHidden != undefined) {\n      currentIsHidden = isHidden;\n    }\n  };\n\n  return Object.freeze({\n    getState,\n    setState\n  });\n};\n\n/* harmony default export */ var entities_Spaceship = (Spaceship);\n// CONCATENATED MODULE: ./src/entities/Enemy.js\n\n\n\nconst Enemy = params => {\n  const {\n    spawnPosition,\n    speed = 500\n  } = params;\n  const sprite = lib_Sprite({\n    textureUrl: "./resources/Enemy.png",\n    position: spawnPosition,\n    anchor: {\n      x: -16,\n      y: -16\n    }\n  });\n  let currentIsDead = false;\n\n  const update = (deltaTime, currentTime) => {\n    const {\n      position\n    } = sprite.getState();\n    const newX = position.x - speed * deltaTime;\n    sprite.setState({\n      position: {\n        x: newX\n      }\n    });\n  };\n\n  const setState = params => {\n    const {\n      isDead\n    } = params;\n\n    if (isDead) {\n      currentIsDead = isDead;\n    }\n  };\n\n  const getState = () => {\n    const {\n      position,\n      texture\n    } = sprite.getState();\n    return {\n      texture,\n      update,\n      position,\n      isDead: currentIsDead\n    };\n  };\n\n  return Object.freeze({\n    getState,\n    setState\n  });\n};\n\n/* harmony default export */ var entities_Enemy = (Enemy);\n// CONCATENATED MODULE: ./src/entities/EnemySpawner.js\n\n\n\n\nconst EnemySpawner = params => {\n  const {\n    movementConstraints,\n    enemyContainer,\n    isHidden\n  } = params;\n  const enemySize = 32;\n  let spawnRate = 1; //seconds\n\n  let timeOfLastSpawn = 0;\n  let currentIsHidden = isHidden;\n\n  const update = (deltaTime, currentTime) => {\n    const {\n      update\n    } = enemyContainer.getState();\n    update(deltaTime, currentTime);\n\n    if (spawnRate < currentTime - timeOfLastSpawn) {\n      timeOfLastSpawn = currentTime;\n      enemyContainer.setState({\n        nodeToAdd: entities_Enemy({\n          spawnPosition: {\n            x: movementConstraints.x + enemySize,\n            y: randomInt(0, movementConstraints.y - enemySize)\n          },\n          speed: randomInt(20, 200)\n        })\n      });\n      spawnRate = spawnRate < 0.05 ? 0.6 : spawnRate * 0.97 + 0.001;\n    }\n\n    enemyContainer.setState({\n      callbackToMap: node => {\n        const {\n          position\n        } = node.getState();\n\n        if (position.x < 0 - enemySize) {\n          console.log("dead enemy");\n          node.setState({\n            isDead: true\n          });\n        }\n      }\n    });\n  };\n\n  const setState = params => {\n    const {\n      isHidden = false,\n      clear = false\n    } = params;\n    currentIsHidden = isHidden;\n\n    if (clear) {\n      enemyContainer.setState({\n        clear: true\n      });\n    }\n  };\n\n  const getState = () => {\n    const {\n      nodes\n    } = enemyContainer.getState();\n    return {\n      update,\n      nodes,\n      isHidden: currentIsHidden\n    };\n  };\n\n  return Object.freeze({\n    getState,\n    setState\n  });\n};\n\n/* harmony default export */ var entities_EnemySpawner = (EnemySpawner);\n// CONCATENATED MODULE: ./src/entities/Background.js\n\n\nconst Background = params => {\n  const {\n    position\n  } = params;\n  const sprite = lib_Sprite({\n    textureUrl: "./resources/Background.png",\n    position\n  });\n  const backgroundWidth = 640;\n  const scrollSpeed = 10;\n\n  const update = (deltaTime, currentTime) => {\n    const {\n      position\n    } = sprite.getState();\n\n    if (position.x <= -backgroundWidth) {\n      sprite.setState({\n        position: {\n          x: 0,\n          y: 0\n        }\n      });\n    } else {\n      sprite.setState({\n        position: {\n          x: position.x - scrollSpeed * deltaTime\n        }\n      });\n    }\n  };\n\n  const getState = () => {\n    const {\n      texture\n    } = sprite.getState();\n    return {\n      update,\n      position,\n      texture\n    };\n  };\n\n  return Object.freeze({\n    getState\n  });\n};\n\n/* harmony default export */ var entities_Background = (Background);\n// CONCATENATED MODULE: ./src/main.js\n\n\n\n\n\n\n\n\nconst WIDTH = 640;\nconst HEIGHT = 300;\nlet main_bulletContainer = null;\nlet main_enemyContainer = null;\nconst main_controls = lib_KeyboardControls();\nlet spaceship = null;\nlet score = lib_Text({\n  text: "Score: 0",\n  styles: {\n    fill: "#ff4d4d",\n    font: "20pt monospace",\n    align: "center"\n  },\n  position: {\n    x: WIDTH / 2,\n    y: 30\n  },\n  isHidden: true\n});\nlet enemySpawner = null;\nconst title = lib_Text({\n  text: "StarBox 63",\n  styles: {\n    fill: "#69deff",\n    font: "30pt monospace",\n    align: "center"\n  },\n  position: {\n    x: WIDTH / 2,\n    y: 50\n  },\n  isHidden: false\n});\nconst gameOverText = lib_Text({\n  text: "GAME OVER",\n  styles: {\n    fill: "#e55dac",\n    font: "50pt monospace",\n    align: "center"\n  },\n  position: {\n    x: WIDTH / 2,\n    y: HEIGHT / 2\n  },\n  isHidden: true\n});\nconst gameOverContinueText = lib_Text({\n  text: "Press spacebar to restart",\n  styles: {\n    fill: "#e55dac",\n    font: "15pt monospace",\n    align: "center"\n  },\n  position: {\n    x: WIDTH / 2,\n    y: 200\n  },\n  isHidden: true\n});\nconst background = entities_Background({\n  textureUrl: "./resources/Background.png",\n  position: {\n    x: 0,\n    y: 0\n  }\n});\nconst startGameMessage = lib_Text({\n  text: "Press spacebar to start",\n  styles: {\n    fill: "#33a5ff",\n    font: "15pt monospace",\n    align: "center"\n  },\n  position: {\n    x: WIDTH / 2,\n    y: 150\n  }\n});\nconst myGame = lib_Game({\n  width: WIDTH,\n  height: HEIGHT,\n  parentElementIdentifier: "#board"\n});\nlet scoreAmount = 0;\nlet gameState = "START_SCREEN";\nlet inputDelayTime = 3; //seconds\n\nlet delayTimeElapsed = 0;\nmyGame.run((deltaTime, currentTime) => {\n  if (gameState === "START_SCREEN") {\n    const {\n      action\n    } = main_controls.getState();\n\n    if (action) {\n      changeState("MAIN_GAME");\n    }\n  }\n\n  if (gameState === "GAME_OVER_SCREEN") {\n    if (deltaTime < inputDelayTime) delayTimeElapsed += deltaTime;\n    const {\n      action\n    } = main_controls.getState();\n\n    if (action && delayTimeElapsed > inputDelayTime) {\n      changeState("START_SCREEN");\n      delayTimeElapsed = 0;\n    }\n  }\n\n  if (gameState === "MAIN_GAME") {\n    checkForCollisions(deltaTime, currentTime);\n  }\n});\n\nfunction init(deltaTime, currentTime) {\n  myGame.clearSceneGraph();\n  scoreAmount = 0;\n  main_bulletContainer = lib_Container({\n    isHidden: true\n  });\n  main_enemyContainer = lib_Container();\n  spaceship = entities_Spaceship({\n    spawnPosition: {\n      x: 150,\n      y: HEIGHT / 2\n    },\n    controls: main_controls,\n    bulletContainer: main_bulletContainer,\n    movementConstraints: {\n      x: WIDTH,\n      y: HEIGHT\n    },\n    isHidden: true\n  });\n  enemySpawner = entities_EnemySpawner({\n    movementConstraints: {\n      x: WIDTH,\n      y: HEIGHT\n    },\n    enemyContainer: main_enemyContainer,\n    isHidden: true\n  });\n  myGame.add(background);\n  myGame.add(enemySpawner);\n  myGame.add(spaceship);\n  myGame.add(main_bulletContainer);\n  myGame.add(title);\n  myGame.add(startGameMessage);\n  myGame.add(gameOverContinueText);\n  myGame.add(gameOverText);\n  myGame.add(score);\n}\n\nfunction changeState(newState) {\n  if (newState === "START_SCREEN") {\n    gameOverContinueText.setState({\n      isHidden: true\n    });\n    gameOverText.setState({\n      isHidden: true\n    });\n    score.setState({\n      text: "Score: 0"\n    });\n    init();\n    gameState = newState;\n  }\n\n  if (newState === "MAIN_GAME") {\n    gameState = newState;\n    title.setState({\n      isHidden: true\n    });\n    startGameMessage.setState({\n      isHidden: true\n    });\n    spaceship.setState({\n      isHidden: false\n    });\n    main_bulletContainer.setState({\n      isHidden: false,\n      clear: true\n    });\n    enemySpawner.setState({\n      isHidden: false,\n      clear: true\n    });\n    score.setState({\n      isHidden: false\n    });\n    console.log(score.getState());\n  }\n\n  if (newState === "GAME_OVER_SCREEN") {\n    gameOverText.setState({\n      isHidden: false\n    });\n    gameOverContinueText.setState({\n      isHidden: false\n    });\n    gameState = newState;\n  }\n}\n\nfunction checkForCollisions(deltaTime, currentTime) {\n  const {\n    nodes: bullets\n  } = main_bulletContainer.getState();\n  const {\n    nodes: enemies\n  } = enemySpawner.getState();\n  enemies.map(enemy => {\n    bullets.map(bullet => {\n      const {\n        position: bulletPosition\n      } = bullet.getState();\n      const {\n        position: enemyPosition\n      } = enemy.getState();\n\n      if (distance(bulletPosition, enemyPosition) < 24) {\n        bullet.setState({\n          isDead: true\n        });\n        enemy.setState({\n          isDead: true\n        });\n        scoreAmount += Math.round(currentTime);\n        score.setState({\n          text: `Score: ${scoreAmount}`\n        });\n      }\n    });\n    const {\n      position: enemyPosition\n    } = enemy.getState();\n    const {\n      position: spaceshipPosition,\n      isDead: isDeadSpaceship\n    } = spaceship.getState(); //detect game over\n\n    if (isDeadSpaceship) return;\n\n    if (distance(enemyPosition, spaceshipPosition) < 32) {\n      enemy.setState({\n        isDead: true\n      });\n      spaceship.setState({\n        isDead: true\n      });\n      changeState("GAME_OVER_SCREEN");\n    }\n  });\n}\n\ninit();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL0NvbnRhaW5lci5qcz9hYmIwIiwid2VicGFjazovLy8uL3NyYy91dGlscy9tYXRoLmpzP2VkYzAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9DYW52YXNSZW5kZXJlci5qcz9hOWY0Iiwid2VicGFjazovLy8uL3NyYy9saWIvR2FtZS5qcz9jNDZlIiwid2VicGFjazovLy8uL3NyYy9saWIvVGV4dC5qcz83NTFmIiwid2VicGFjazovLy8uL3NyYy9saWIvS2V5Ym9hcmRDb250cm9scy5qcz84YzMxIiwid2VicGFjazovLy8uL3NyYy9saWIvVGV4dHVyZS5qcz9lZGU2Iiwid2VicGFjazovLy8uL3NyYy9saWIvU3ByaXRlLmpzPzJhZjciLCJ3ZWJwYWNrOi8vLy4vc3JjL2VudGl0aWVzL0J1bGxldC5qcz9iZjgyIiwid2VicGFjazovLy8uL3NyYy9lbnRpdGllcy9TcGFjZXNoaXAuanM/MmVlZSIsIndlYnBhY2s6Ly8vLi9zcmMvZW50aXRpZXMvRW5lbXkuanM/MDA2YyIsIndlYnBhY2s6Ly8vLi9zcmMvZW50aXRpZXMvRW5lbXlTcGF3bmVyLmpzP2ViYjAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VudGl0aWVzL0JhY2tncm91bmQuanM/ODU1OSIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz81NmQ3Il0sIm5hbWVzIjpbIkNvbnRhaW5lciIsInBhcmFtcyIsImlzSGlkZGVuIiwicG9zaXRpb24iLCJ4IiwieSIsIm5vZGVzIiwiY3VycmVudElzSGlkZGVuIiwic2V0U3RhdGUiLCJuZXdTdGF0ZSIsIm5vZGVUb0FkZCIsIm5vZGVUb1JlbW92ZSIsImNhbGxiYWNrVG9NYXAiLCJjbGVhciIsInB1c2giLCJmaWx0ZXIiLCJub2RlIiwibWFwIiwidW5kZWZpbmVkIiwiZ2V0U3RhdGUiLCJ1cGRhdGUiLCJkZWx0YVRpbWUiLCJjdXJyZW50VGltZSIsImlzRGVhZCIsIk9iamVjdCIsImZyZWV6ZSIsInJhbmRvbUZsb2F0IiwibWluIiwibWF4IiwiTWF0aCIsInJhbmRvbSIsInJhbmRvbUludCIsImZsb29yIiwicmFuZG9tT25lSW4iLCJvZGRzIiwiZGlzdGFuY2UiLCJwb3NpdGlvbk9iajEiLCJwb3NpdGlvbk9iajIiLCJkZWx0YVgiLCJkZWx0YVkiLCJzcXJ0IiwiY2xhbXAiLCJ2YWwiLCJyb3VuZCIsIkNhbnZhc1JlbmRlcmVyIiwid2lkdGgiLCJoZWlnaHQiLCJjb25zb2xlIiwiZXJyb3IiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ2aWV3IiwiY3R4IiwiZ2V0Q29udGV4dCIsInJlbmRlciIsImNvbnRhaW5lciIsImNsZWFyUmVjdCIsInJlbmRlclJlY3Vyc2l2ZSIsInBhcmVudENvbnRhaW5lck5vZGVzIiwiZm9yRWFjaCIsInRleHQiLCJ0ZXh0dXJlIiwidGlsZVdpZHRoIiwidGlsZUhlaWdodCIsImZyYW1lIiwic3R5bGVzIiwic2NhbGUiLCJyb3RhdGlvbiIsInBpdm90IiwiYW5jaG9yIiwic2F2ZSIsInRyYW5zbGF0ZSIsInJvdGF0ZSIsImZpbGwiLCJhbGlnbiIsImZvbnQiLCJmaWxsU3R5bGUiLCJ0ZXh0QWxpZ24iLCJmaWxsVGV4dCIsImltYWdlIiwiZHJhd0ltYWdlIiwibGVuZ3RoIiwicmVzdG9yZSIsIkdhbWUiLCJwYXJlbnRFbGVtZW50SWRlbnRpZmllciIsInNjZW5lIiwicmVuZGVyZXIiLCJxdWVyeVNlbGVjdG9yIiwiYXBwZW5kQ2hpbGQiLCJ0aW1lT2ZMYXN0RnJhbWUiLCJydW4iLCJjYWxsYmFjayIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImxvb3AiLCJtcyIsImFkZCIsInJlbW92ZSIsImNsZWFyU2NlbmVHcmFwaCIsIlRleHQiLCJjdXJyZW50VGV4dCIsIm5ld1N0eWxlcyIsIm5ld1Bvc3Rpb24iLCJlbnRyaWVzIiwibG9nIiwiS2V5Ym9hcmRDb250cm9scyIsImtleXMiLCJrZXlDb2RlcyIsImxlZnRBcnJvdyIsInVwQXJyb3ciLCJyaWdodEFycm93IiwiZG93bkFycm93IiwiYUtleSIsImRLZXkiLCJ3S2V5Iiwic0tleSIsInNwYWNlYmFyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUtleURvd24iLCJoYW5kbGVLZXlVcCIsImUiLCJ3aGljaCIsImluY2x1ZGVzIiwicHJldmVudERlZmF1bHQiLCJpbnB1dFZlY3RvciIsImFjdGlvbiIsIlRleHR1cmUiLCJ1cmwiLCJzcmMiLCJTcHJpdGUiLCJ0ZXh0dXJlVXJsIiwiY3VycmVudFBvc2l0aW9uIiwiQnVsbGV0IiwibW92ZW1lbnRDb25zdHJhaW50cyIsInNwcml0ZSIsInNwZWVkIiwiY3VycmVudElzRGVhZCIsIm5ld1giLCJTcGFjZXNoaXAiLCJjb250cm9scyIsInNwYXduUG9zaXRpb24iLCJidWxsZXRDb250YWluZXIiLCJ0aWxlU2l6ZSIsImJ1bGxldEZpcmVQb3NpdGlvbk9mZnNldCIsInRpbWVPZkxhc3RCdWxsZXQiLCJmaXJlUmF0ZSIsIm5ld1kiLCJFbmVteSIsIkVuZW15U3Bhd25lciIsImVuZW15Q29udGFpbmVyIiwiZW5lbXlTaXplIiwic3Bhd25SYXRlIiwidGltZU9mTGFzdFNwYXduIiwiQmFja2dyb3VuZCIsImJhY2tncm91bmRXaWR0aCIsInNjcm9sbFNwZWVkIiwiV0lEVEgiLCJIRUlHSFQiLCJzcGFjZXNoaXAiLCJzY29yZSIsImVuZW15U3Bhd25lciIsInRpdGxlIiwiZ2FtZU92ZXJUZXh0IiwiZ2FtZU92ZXJDb250aW51ZVRleHQiLCJiYWNrZ3JvdW5kIiwic3RhcnRHYW1lTWVzc2FnZSIsIm15R2FtZSIsInNjb3JlQW1vdW50IiwiZ2FtZVN0YXRlIiwiaW5wdXREZWxheVRpbWUiLCJkZWxheVRpbWVFbGFwc2VkIiwiY2hhbmdlU3RhdGUiLCJjaGVja0ZvckNvbGxpc2lvbnMiLCJpbml0IiwiYnVsbGV0cyIsImVuZW1pZXMiLCJlbmVteSIsImJ1bGxldCIsImJ1bGxldFBvc2l0aW9uIiwiZW5lbXlQb3NpdGlvbiIsInNwYWNlc2hpcFBvc2l0aW9uIiwiaXNEZWFkU3BhY2VzaGlwIl0sIm1hcHBp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QVMwRyxXQUFZO0FBRGYsU0FBZjtBQUdEO0FBQ0YsS0FqQkQ7QUFtQkEsVUFBTTtBQUFFcEssY0FBUSxFQUFFZ0w7QUFBWixRQUE4QkgsS0FBSyxDQUFDN0osUUFBTixFQUFwQztBQUNBLFVBQU07QUFDSmhCLGNBQVEsRUFBRWlMLGlCQUROO0FBRUo3SixZQUFNLEVBQUU4SjtBQUZKLFFBR0Z2QixTQUFTLENBQUMzSSxRQUFWLEVBSEosQ0FyQnFCLENBMEJyQjs7QUFDQSxRQUFJa0ssZUFBSixFQUFxQjs7QUFDckIsUUFBSWxKLFFBQVEsQ0FBQ2dKLGFBQUQsRUFBZ0JDLGlCQUFoQixDQUFSLEdBQTZDLEVBQWpELEVBQXFEO0FBQ25ESixXQUFLLENBQUN4SyxRQUFOLENBQWU7QUFDYmUsY0FBTSxFQUFFO0FBREssT0FBZjtBQUlBdUksZUFBUyxDQUFDdEosUUFBVixDQUFtQjtBQUNqQmUsY0FBTSxFQUFFO0FBRFMsT0FBbkI7QUFJQW9KLGlCQUFXLENBQUMsa0JBQUQsQ0FBWDtBQUNEO0FBQ0YsR0F2Q0Q7QUF3Q0Q7O0FBQ0RFLElBQUkiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IENvbnRhaW5lciA9IChwYXJhbXMgPSB7fSkgPT4ge1xuICBjb25zdCB7IGlzSGlkZGVuIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH07XG4gIGxldCBub2RlcyA9IFtdO1xuICBsZXQgY3VycmVudElzSGlkZGVuID0gaXNIaWRkZW47XG5cbiAgY29uc3Qgc2V0U3RhdGUgPSAobmV3U3RhdGUpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBub2RlVG9BZGQsXG4gICAgICBub2RlVG9SZW1vdmUsXG4gICAgICBjYWxsYmFja1RvTWFwLFxuICAgICAgY2xlYXIgPSBmYWxzZSxcbiAgICAgIGlzSGlkZGVuID0gZmFsc2UsXG4gICAgfSA9IG5ld1N0YXRlO1xuXG4gICAgaWYgKG5vZGVUb0FkZCkge1xuICAgICAgbm9kZXMucHVzaChub2RlVG9BZGQpO1xuICAgIH1cblxuICAgIGlmIChub2RlVG9SZW1vdmUpIHtcbiAgICAgIG5vZGVzID0gbm9kZXMuZmlsdGVyKChub2RlKSA9PiBub2RlICE9IG5vZGVUb1JlbW92ZSk7XG4gICAgICByZXR1cm4gbm9kZVRvUmVtb3ZlO1xuICAgIH1cblxuICAgIGlmIChjYWxsYmFja1RvTWFwKSB7XG4gICAgICBub2Rlcy5tYXAoY2FsbGJhY2tUb01hcCk7XG4gICAgfVxuXG4gICAgaWYgKGNsZWFyKSB7XG4gICAgICBub2RlcyA9IFtdO1xuICAgIH1cblxuICAgIGlmIChpc0hpZGRlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjdXJyZW50SXNIaWRkZW4gPSBpc0hpZGRlbjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vZGVzLFxuICAgICAgcG9zaXRpb24sXG4gICAgICB1cGRhdGUsXG4gICAgICBpc0hpZGRlbjogY3VycmVudElzSGlkZGVuLFxuICAgIH07XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlID0gKGRlbHRhVGltZSwgY3VycmVudFRpbWUpID0+IHtcbiAgICBub2RlcyA9IG5vZGVzLmZpbHRlcigobm9kZSkgPT4ge1xuICAgICAgY29uc3QgeyB1cGRhdGUsIGlzRGVhZCB9ID0gbm9kZS5nZXRTdGF0ZSgpO1xuICAgICAgaWYgKHVwZGF0ZSkge1xuICAgICAgICB1cGRhdGUoZGVsdGFUaW1lLCBjdXJyZW50VGltZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0RlYWQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gaXNEZWFkID8gZmFsc2UgOiB0cnVlO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICBzZXRTdGF0ZSxcbiAgICBnZXRTdGF0ZSxcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb250YWluZXI7XG4iLCJmdW5jdGlvbiByYW5kb21GbG9hdChtaW4sIG1heCkge1xuICBpZiAobWF4ID09PSB1bmRlZmluZWQpIHtcbiAgICBtYXggPSBtaW47XG4gICAgbWluID0gMDtcbiAgfVxuICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xufVxuXG5mdW5jdGlvbiByYW5kb21JbnQobWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IocmFuZG9tRmxvYXQobWluLCBtYXgpKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tT25lSW4ob2Rkcykge1xuICByZXR1cm4gcmFuZG9tSW50KG9kZHMpID09PSAwO1xufVxuXG5mdW5jdGlvbiBkaXN0YW5jZShwb3NpdGlvbk9iajEsIHBvc2l0aW9uT2JqMikge1xuICBjb25zdCBkZWx0YVggPSBwb3NpdGlvbk9iajEueCAtIHBvc2l0aW9uT2JqMi54O1xuICBjb25zdCBkZWx0YVkgPSBwb3NpdGlvbk9iajEueSAtIHBvc2l0aW9uT2JqMi55O1xuICAvL2FeMiArIGJeMiA9IGNeMlxuICByZXR1cm4gTWF0aC5zcXJ0KGRlbHRhWCAqIGRlbHRhWCArIGRlbHRhWSAqIGRlbHRhWSk7XG59XG5cbmZ1bmN0aW9uIGNsYW1wKHZhbCwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4odmFsLCBtYXgpKTtcbn1cblxuZnVuY3Rpb24gcm91bmQodmFsKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKHZhbCk7XG59XG5cbmV4cG9ydCB7IHJhbmRvbUZsb2F0LCByYW5kb21JbnQsIHJhbmRvbU9uZUluLCBkaXN0YW5jZSwgY2xhbXAsIHJvdW5kIH07XG4iLCJpbXBvcnQgeyByb3VuZCB9IGZyb20gXCIuLi91dGlscy9tYXRoXCI7XG5cbmNvbnN0IENhbnZhc1JlbmRlcmVyID0gKHBhcmFtcykgPT4ge1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHBhcmFtcztcbiAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIGBZb3UgbXVzdCBwYXNzIHt3aWR0aDogJ3lvdXItZ2FtZS13aWR0aCcsIGhlaWdodDogJ3lvdXItZ2FtZS1oZWlnaHQnfSBcbiAgICAgIGludG8gQ2FudmFzUmVuZGVyZXIgQ29uc3RydWN0b3JgXG4gICAgKTtcbiAgfVxuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgY29uc3QgdmlldyA9IGNhbnZhcztcbiAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICBjb25zdCByZW5kZXIgPSAoY29udGFpbmVyLCBjbGVhciA9IHRydWUpID0+IHtcbiAgICBpZiAoY2xlYXIpIGN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgcmVuZGVyUmVjdXJzaXZlKGNvbnRhaW5lcik7XG5cbiAgICBmdW5jdGlvbiByZW5kZXJSZWN1cnNpdmUoY29udGFpbmVyKSB7XG4gICAgICBjb25zdCB7IG5vZGVzOiBwYXJlbnRDb250YWluZXJOb2RlcyB9ID0gY29udGFpbmVyLmdldFN0YXRlKCk7XG4gICAgICBwYXJlbnRDb250YWluZXJOb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB0ZXh0ID0gXCJcIixcbiAgICAgICAgICB0ZXh0dXJlLFxuICAgICAgICAgIHRpbGVXaWR0aCA9IDAsXG4gICAgICAgICAgdGlsZUhlaWdodCA9IDAsXG4gICAgICAgICAgZnJhbWUgPSB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICBub2RlcyA9IFtdLFxuICAgICAgICAgIHN0eWxlcyA9IHt9LFxuICAgICAgICAgIHBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgc2NhbGUgPSB7IHg6IDEsIHk6IDEgfSxcbiAgICAgICAgICByb3RhdGlvbiA9IDAsXG4gICAgICAgICAgcGl2b3QgPSB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICBhbmNob3IgPSB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICBpc0hpZGRlbiA9IGZhbHNlLFxuICAgICAgICB9ID0gbm9kZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIGlmIChpc0hpZGRlbikgcmV0dXJuO1xuXG4gICAgICAgIGN0eC5zYXZlKCk7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBwb3NpdGlvbjtcbiAgICAgICAgICBjdHgudHJhbnNsYXRlKHJvdW5kKHgpLCByb3VuZCh5KSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5jaG9yKSB7XG4gICAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBhbmNob3I7XG4gICAgICAgICAgY3R4LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzY2FsZSkge1xuICAgICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gc2NhbGU7XG4gICAgICAgICAgY3R4LnNjYWxlKHgsIHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvdGF0aW9uKSB7XG4gICAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBwaXZvdDtcbiAgICAgICAgICBjdHgudHJhbnNsYXRlKHgsIHkpO1xuICAgICAgICAgIGN0eC5yb3RhdGUocm90YXRpb24pO1xuICAgICAgICAgIGN0eC50cmFuc2xhdGUoLXgsIC15KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vZHJhdyBsZWFmIG5vZGVzXG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgY29uc3QgeyBmaWxsID0gXCJcIiwgYWxpZ24gPSBcIlwiLCBmb250ID0gXCJcIiB9ID0gc3R5bGVzO1xuICAgICAgICAgIGlmIChmaWxsKSBjdHguZmlsbFN0eWxlID0gZmlsbDtcbiAgICAgICAgICBpZiAoYWxpZ24pIGN0eC50ZXh0QWxpZ24gPSBhbGlnbjtcbiAgICAgICAgICBpZiAoZm9udCkgY3R4LmZvbnQgPSBmb250O1xuICAgICAgICAgIGN0eC5maWxsVGV4dCh0ZXh0LCAwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aWxlV2lkdGggJiYgdGlsZUhlaWdodCAmJiBmcmFtZSAmJiB0ZXh0dXJlKSB7XG4gICAgICAgICAgY29uc3QgeyBpbWFnZSB9ID0gdGV4dHVyZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgIGZyYW1lLnggKiB0aWxlV2lkdGgsXG4gICAgICAgICAgICBmcmFtZS55ICogdGlsZUhlaWdodCxcbiAgICAgICAgICAgIHRpbGVXaWR0aCxcbiAgICAgICAgICAgIHRpbGVIZWlnaHQsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIHRpbGVXaWR0aCxcbiAgICAgICAgICAgIHRpbGVIZWlnaHRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHRleHR1cmUpIHtcbiAgICAgICAgICBjb25zdCB7IGltYWdlIH0gPSB0ZXh0dXJlLmdldFN0YXRlKCk7XG4gICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZXMubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICByZW5kZXJSZWN1cnNpdmUobm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFN0YXRlID0gKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB2aWV3LFxuICAgICAgcmVuZGVyLFxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIGdldFN0YXRlLFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1JlbmRlcmVyO1xuIiwiaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi9Db250YWluZXJcIjtcbmltcG9ydCBDYW52YXNSZW5kZXJlciBmcm9tIFwiLi9DYW52YXNSZW5kZXJlclwiO1xuXG5jb25zdCBHYW1lID0gKHBhcmFtcykgPT4ge1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHBhcmVudEVsZW1lbnRJZGVudGlmaWVyIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHNjZW5lID0gQ29udGFpbmVyKCk7XG4gIGNvbnN0IHJlbmRlcmVyID0gQ2FudmFzUmVuZGVyZXIoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICBjb25zdCB7IHZpZXcgfSA9IHJlbmRlcmVyLmdldFN0YXRlKCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyZW50RWxlbWVudElkZW50aWZpZXIpLmFwcGVuZENoaWxkKHZpZXcpO1xuXG4gIGxldCBkZWx0YVRpbWUgPSAwO1xuICBsZXQgdGltZU9mTGFzdEZyYW1lID0gMDtcblxuICBjb25zdCBydW4gPSAoY2FsbGJhY2sgPSAoKSA9PiB7fSkgPT4ge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcblxuICAgIGZ1bmN0aW9uIGxvb3AobXMpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbXMgLyAxMDAwOyAvL2NvbnZlcnQgbWlsaXNlY29uZHMgdG8gc2Vjb25kc1xuICAgICAgZGVsdGFUaW1lID0gY3VycmVudFRpbWUgLSB0aW1lT2ZMYXN0RnJhbWU7XG4gICAgICB0aW1lT2ZMYXN0RnJhbWUgPSBjdXJyZW50VGltZTtcblxuICAgICAgY29uc3QgeyB1cGRhdGUgfSA9IHNjZW5lLmdldFN0YXRlKCk7XG4gICAgICBjb25zdCB7IHJlbmRlciB9ID0gcmVuZGVyZXIuZ2V0U3RhdGUoKTtcbiAgICAgIHVwZGF0ZShkZWx0YVRpbWUsIGN1cnJlbnRUaW1lKTtcbiAgICAgIGNhbGxiYWNrKGRlbHRhVGltZSwgY3VycmVudFRpbWUpO1xuICAgICAgcmVuZGVyKHNjZW5lKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgYWRkID0gKG5vZGVUb0FkZCkgPT4ge1xuICAgIHNjZW5lLnNldFN0YXRlKHtcbiAgICAgIG5vZGVUb0FkZCxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCByZW1vdmUgPSAobm9kZVRvUmVtb3ZlKSA9PiB7XG4gICAgc2NlbmUuc2V0U3RhdGUoe1xuICAgICAgbm9kZVRvUmVtb3ZlLFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGNsZWFyU2NlbmVHcmFwaCA9ICgpID0+IHtcbiAgICBzY2VuZS5zZXRTdGF0ZSh7XG4gICAgICBjbGVhcjogdHJ1ZSxcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgcnVuLFxuICAgIGFkZCxcbiAgICByZW1vdmUsXG4gICAgY2xlYXJTY2VuZUdyYXBoLFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWU7XG4iLCJjb25zdCBUZXh0ID0gKHBhcmFtcykgPT4ge1xuICBjb25zdCB7XG4gICAgLy9kZWZhdWx0c1xuICAgIHN0eWxlcyA9IHsgZmlsbDogXCIjZjFmMGVlXCIsIGZvbnQ6IFwiMjBwdCBzZXJpZlwiLCBhbGlnbjogXCJjZW50ZXJcIiB9LFxuICAgIHBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH0sXG4gICAgaXNIaWRkZW4gPSBmYWxzZSxcbiAgfSA9IHBhcmFtcztcblxuICBsZXQgeyB0ZXh0OiBjdXJyZW50VGV4dCA9IFwidGhpcyBpcyBwbGFjZWhvbGRlciB0ZXh0XCIgfSA9IHBhcmFtcztcbiAgbGV0IGN1cnJlbnRJc0hpZGRlbiA9IGlzSGlkZGVuO1xuXG4gIGNvbnN0IHNldFN0YXRlID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHRleHQsXG4gICAgICBzdHlsZXM6IG5ld1N0eWxlcyA9IHsgLi4uc3R5bGVzIH0sXG4gICAgICBwb3NpdGlvbjogbmV3UG9zdGlvbiA9IHsgeDogcG9zaXRpb24ueCwgeTogcG9zaXRpb24ueSB9LFxuICAgICAgaXNIaWRkZW4sXG4gICAgfSA9IHBhcmFtcztcbiAgICBpZiAodGV4dCkgY3VycmVudFRleHQgPSB0ZXh0O1xuICAgIGlmICghT2JqZWN0LmVudHJpZXMobmV3U3R5bGVzKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IHsgZmlsbCA9IFwiXCIsIGFsaWduID0gXCJcIiwgZm9udCA9IFwiXCIgfSA9IG5ld1N0eWxlcztcbiAgICAgIGlmIChmaWxsKSBzdHlsZXMuZmlsbCA9IGZpbGw7XG4gICAgICBpZiAoYWxpZ24pIHN0eWxlcy5hbGlnbiA9IGFsaWduO1xuICAgICAgaWYgKGZvbnQpIHN0eWxlcy5mb250ID0gZm9udDtcbiAgICB9XG4gICAgaWYgKHBvc2l0aW9uLnggIT09IHVuZGVmaW5lZCkgcG9zaXRpb24ueCA9IG5ld1Bvc3Rpb24ueDtcbiAgICBpZiAocG9zaXRpb24ueSAhPT0gdW5kZWZpbmVkKSBwb3NpdGlvbi55ID0gbmV3UG9zdGlvbi55O1xuICAgIGlmIChpc0hpZGRlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjdXJyZW50SXNIaWRkZW4gPSBpc0hpZGRlbjtcbiAgICAgIGNvbnNvbGUubG9nKGBjdXJyZW50SXNIaWRkZW4gZm9yICR7Y3VycmVudFRleHR9YCwgY3VycmVudElzSGlkZGVuKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHQ6IGN1cnJlbnRUZXh0LFxuICAgICAgc3R5bGVzLFxuICAgICAgcG9zaXRpb24sXG4gICAgICBpc0hpZGRlbjogY3VycmVudElzSGlkZGVuLFxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIHNldFN0YXRlLFxuICAgIGdldFN0YXRlLFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRleHQ7XG4iLCJjb25zdCBLZXlib2FyZENvbnRyb2xzID0gKCkgPT4ge1xuICBjb25zdCBrZXlzID0ge307XG4gIGNvbnN0IGtleUNvZGVzID0ge1xuICAgIGxlZnRBcnJvdzogMzcsXG4gICAgdXBBcnJvdzogMzgsXG4gICAgcmlnaHRBcnJvdzogMzksXG4gICAgZG93bkFycm93OiA0MCxcbiAgICBhS2V5OiA2NSxcbiAgICBkS2V5OiA2OCxcbiAgICB3S2V5OiA4NyxcbiAgICBzS2V5OiA4MyxcbiAgICBzcGFjZWJhcjogMzIsXG4gIH07XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93biwgZmFsc2UpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgaGFuZGxlS2V5VXAsIGZhbHNlKTtcblxuICBmdW5jdGlvbiBoYW5kbGVLZXlVcChlKSB7XG4gICAga2V5c1tlLndoaWNoXSA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlKSB7XG4gICAgY29uc3QgeyBsZWZ0QXJyb3csIHJpZ2h0QXJyb3csIHVwQXJyb3csIGRvd25BcnJvdyB9ID0ga2V5Q29kZXM7XG4gICAgaWYgKFtsZWZ0QXJyb3csIHJpZ2h0QXJyb3csIHVwQXJyb3csIGRvd25BcnJvd10uaW5jbHVkZXMoZS53aGljaCkpIHtcbiAgICAgIC8vcHJldmVudCBhcnJvdyBrZXlzIGZyb20gc2Nyb2xsaW5nIHRoZSBwYWdlXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAga2V5c1tlLndoaWNoXSA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICBjb25zdCB7XG4gICAgICBsZWZ0QXJyb3csXG4gICAgICByaWdodEFycm93LFxuICAgICAgdXBBcnJvdyxcbiAgICAgIGRvd25BcnJvdyxcbiAgICAgIGFLZXksXG4gICAgICBkS2V5LFxuICAgICAgd0tleSxcbiAgICAgIHNLZXksXG4gICAgICBzcGFjZWJhcixcbiAgICB9ID0ga2V5Q29kZXM7XG4gICAgbGV0IGlucHV0VmVjdG9yID0geyB4OiAwLCB5OiAwIH07XG4gICAgbGV0IGFjdGlvbiA9IGZhbHNlO1xuXG4gICAgaWYgKGtleXNbbGVmdEFycm93XSB8fCBrZXlzW2FLZXldKSB7XG4gICAgICBpbnB1dFZlY3Rvci54ID0gLTE7XG4gICAgfVxuXG4gICAgaWYgKGtleXNbdXBBcnJvd10gfHwga2V5c1t3S2V5XSkge1xuICAgICAgaW5wdXRWZWN0b3IueSA9IC0xO1xuICAgIH1cblxuICAgIGlmIChrZXlzW3JpZ2h0QXJyb3ddIHx8IGtleXNbZEtleV0pIHtcbiAgICAgIGlucHV0VmVjdG9yLnggPSAxO1xuICAgIH1cblxuICAgIGlmIChrZXlzW2Rvd25BcnJvd10gfHwga2V5c1tzS2V5XSkge1xuICAgICAgaW5wdXRWZWN0b3IueSA9IDE7XG4gICAgfVxuXG4gICAgaWYgKGtleXNbc3BhY2ViYXJdKSB7XG4gICAgICBhY3Rpb24gPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBpbnB1dFZlY3RvcixcbiAgICAgIGFjdGlvbixcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIGdldFN0YXRlLFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkQ29udHJvbHM7XG4iLCJjb25zdCBUZXh0dXJlID0gKHBhcmFtcykgPT4ge1xuICBjb25zdCB7IHVybCA9IFwiLi9yZXNvdXJjZXMvcGxhY2VfaG9sZGVyLnBuZ1wiIH0gPSBwYXJhbXM7XG4gIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgaW1hZ2Uuc3JjID0gdXJsO1xuXG4gIGNvbnN0IGdldFN0YXRlID0gKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpbWFnZSxcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IHNldFN0YXRlID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgdXJsIH0gPSBwYXJhbXM7XG4gICAgaW1hZ2Uuc3JjID0gdXJsO1xuICB9O1xuXG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICBnZXRTdGF0ZSxcbiAgICBzZXRTdGF0ZSxcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUZXh0dXJlO1xuIiwiaW1wb3J0IFRleHR1cmUgZnJvbSBcIi4vVGV4dHVyZVwiO1xuXG5jb25zdCBTcHJpdGUgPSAocGFyYW1zKSA9PiB7XG4gIGNvbnN0IHtcbiAgICB0ZXh0dXJlVXJsLFxuICAgIHBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH0sXG4gICAgYW5jaG9yLFxuICAgIHJvdGF0aW9uLFxuICAgIHBpdm90LFxuICB9ID0gcGFyYW1zO1xuICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgbGV0IHRleHR1cmUgPSBUZXh0dXJlKHsgdXJsOiB0ZXh0dXJlVXJsIH0pO1xuXG4gIGNvbnN0IGdldFN0YXRlID0gKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0dXJlLFxuICAgICAgcG9zaXRpb246IGN1cnJlbnRQb3NpdGlvbixcbiAgICAgIGFuY2hvcixcbiAgICAgIHJvdGF0aW9uLFxuICAgICAgcGl2b3QsXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBzZXRTdGF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCB7IHRleHR1cmVVcmwsIHBvc2l0aW9uIH0gPSBwYXJhbXM7XG4gICAgaWYgKHRleHR1cmVVcmwpIHRleHR1cmUgPSBUZXh0dXJlKHsgdXJsOiB0ZXh0dXJlVXJsIH0pO1xuICAgIGlmIChwb3NpdGlvbi54ICE9PSB1bmRlZmluZWQpIGN1cnJlbnRQb3NpdGlvbi54ID0gcG9zaXRpb24ueDtcbiAgICBpZiAocG9zaXRpb24ueSAhPT0gdW5kZWZpbmVkKSBjdXJyZW50UG9zaXRpb24ueSA9IHBvc2l0aW9uLnk7XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIGdldFN0YXRlLFxuICAgIHNldFN0YXRlLFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNwcml0ZTtcbiIsImltcG9ydCBTcHJpdGUgZnJvbSBcIi4uL2xpYi9TcHJpdGVcIjtcblxuY29uc3QgQnVsbGV0ID0gKHBhcmFtcykgPT4ge1xuICBjb25zdCB7IHBvc2l0aW9uLCBtb3ZlbWVudENvbnN0cmFpbnRzIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHNwcml0ZSA9IFNwcml0ZSh7XG4gICAgdGV4dHVyZVVybDogXCIuL3Jlc291cmNlcy9CdWxsZXQucG5nXCIsXG4gICAgcG9zaXRpb24sXG4gIH0pO1xuICBjb25zdCBzcGVlZCA9IDQwMDtcbiAgbGV0IGN1cnJlbnRJc0RlYWQgPSBmYWxzZTtcblxuICBjb25zdCB1cGRhdGUgPSAoZGVsdGFUaW1lKSA9PiB7XG4gICAgY29uc3QgeyBwb3NpdGlvbjogY3VycmVudFBvc2l0aW9uIH0gPSBzcHJpdGUuZ2V0U3RhdGUoKTtcblxuICAgIGxldCBuZXdYID0gY3VycmVudFBvc2l0aW9uLnggKyBzcGVlZCAqIGRlbHRhVGltZTtcblxuICAgIGlmIChuZXdYID4gbW92ZW1lbnRDb25zdHJhaW50cy54KSB7XG4gICAgICBjb25zb2xlLmxvZyhcImRlYWQgYnVsbGV0XCIpO1xuICAgICAgY3VycmVudElzRGVhZCA9IHRydWU7XG4gICAgfVxuXG4gICAgc3ByaXRlLnNldFN0YXRlKHtcbiAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgIHg6IG5ld1gsXG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGdldFN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcG9zaXRpb24sIHRleHR1cmUgfSA9IHNwcml0ZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICBwb3NpdGlvbixcbiAgICAgIHRleHR1cmUsXG4gICAgICBpc0RlYWQ6IGN1cnJlbnRJc0RlYWQsXG4gICAgICB1cGRhdGUsXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBzZXRTdGF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCB7IGlzRGVhZCB9ID0gcGFyYW1zO1xuICAgIGlmIChpc0RlYWQpIHtcbiAgICAgIGN1cnJlbnRJc0RlYWQgPSBpc0RlYWQ7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICBnZXRTdGF0ZSxcbiAgICBzZXRTdGF0ZSxcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdWxsZXQ7XG4iLCJpbXBvcnQgU3ByaXRlIGZyb20gXCIuLi9saWIvU3ByaXRlXCI7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gXCIuLi9saWIvQ29udGFpbmVyXCI7XG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuLi9lbnRpdGllcy9CdWxsZXRcIjtcblxuY29uc3QgU3BhY2VzaGlwID0gKHBhcmFtcykgPT4ge1xuICBjb25zdCB7XG4gICAgY29udHJvbHMsXG4gICAgc3Bhd25Qb3NpdGlvbixcbiAgICBtb3ZlbWVudENvbnN0cmFpbnRzLFxuICAgIGJ1bGxldENvbnRhaW5lcixcbiAgICBpc0hpZGRlbixcbiAgfSA9IHBhcmFtcztcbiAgY29uc3Qgc3ByaXRlID0gU3ByaXRlKHtcbiAgICB0ZXh0dXJlVXJsOiBcIi4vcmVzb3VyY2VzL1NwYWNlc2hpcC5wbmdcIixcbiAgICBwb3NpdGlvbjogc3Bhd25Qb3NpdGlvbixcbiAgICBhbmNob3I6IHsgeDogLTE2LCB5OiAtMTYgfSxcbiAgfSk7XG4gIGNvbnN0IHRpbGVTaXplID0gMzI7XG4gIGNvbnN0IHNwZWVkID0gMjAwO1xuICBjb25zdCBidWxsZXRGaXJlUG9zaXRpb25PZmZzZXQgPSAxMjtcbiAgbGV0IGN1cnJlbnRJc0hpZGRlbiA9IGlzSGlkZGVuO1xuICBsZXQgY3VycmVudElzRGVhZCA9IGZhbHNlO1xuICBsZXQgdGltZU9mTGFzdEJ1bGxldCA9IDA7XG4gIGxldCBmaXJlUmF0ZSA9IDAuMztcblxuICBjb25zdCB1cGRhdGUgPSAoZGVsdGFUaW1lLCBjdXJyZW50VGltZSkgPT4ge1xuICAgIGNvbnN0IHsgaW5wdXRWZWN0b3IsIGFjdGlvbiB9ID0gY29udHJvbHMuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB7IHBvc2l0aW9uOiBjdXJyZW50UG9zaXRpb24gfSA9IHNwcml0ZS5nZXRTdGF0ZSgpO1xuXG4gICAgLy9oYW5kbGUgbW92ZW1lbnRcbiAgICBsZXQgbmV3WCA9IGN1cnJlbnRQb3NpdGlvbi54ICsgaW5wdXRWZWN0b3IueCAqIHNwZWVkICogZGVsdGFUaW1lO1xuICAgIGxldCBuZXdZID0gY3VycmVudFBvc2l0aW9uLnkgKyBpbnB1dFZlY3Rvci55ICogc3BlZWQgKiBkZWx0YVRpbWU7XG5cbiAgICBpZiAobmV3WCA8IDApIG5ld1ggPSAwO1xuICAgIGlmIChuZXdZIDwgMCkgbmV3WSA9IDA7XG4gICAgaWYgKG5ld1ggPiBtb3ZlbWVudENvbnN0cmFpbnRzLnggLSB0aWxlU2l6ZSkge1xuICAgICAgbmV3WCA9IG1vdmVtZW50Q29uc3RyYWludHMueCAtIHRpbGVTaXplO1xuICAgIH1cbiAgICBpZiAobmV3WSA+IG1vdmVtZW50Q29uc3RyYWludHMueSAtIHRpbGVTaXplKSB7XG4gICAgICBuZXdZID0gbW92ZW1lbnRDb25zdHJhaW50cy55IC0gdGlsZVNpemU7XG4gICAgfVxuXG4gICAgc3ByaXRlLnNldFN0YXRlKHtcbiAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgIHg6IG5ld1gsXG4gICAgICAgIHk6IG5ld1ksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy9maXJlIGJ1bGxldHNcbiAgICBpZiAoYWN0aW9uICYmIGN1cnJlbnRUaW1lIC0gdGltZU9mTGFzdEJ1bGxldCA+IGZpcmVSYXRlKSB7XG4gICAgICB0aW1lT2ZMYXN0QnVsbGV0ID0gY3VycmVudFRpbWU7XG4gICAgICBidWxsZXRDb250YWluZXIuc2V0U3RhdGUoe1xuICAgICAgICBub2RlVG9BZGQ6IEJ1bGxldCh7XG4gICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgIHg6IGN1cnJlbnRQb3NpdGlvbi54ICsgYnVsbGV0RmlyZVBvc2l0aW9uT2Zmc2V0LFxuICAgICAgICAgICAgeTogY3VycmVudFBvc2l0aW9uLnkgKyBidWxsZXRGaXJlUG9zaXRpb25PZmZzZXQsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtb3ZlbWVudENvbnN0cmFpbnRzLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcG9zaXRpb24sIHRleHR1cmUgfSA9IHNwcml0ZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICBwb3NpdGlvbixcbiAgICAgIHRleHR1cmUsXG4gICAgICB1cGRhdGUsXG4gICAgICBpc0RlYWQ6IGN1cnJlbnRJc0RlYWQsXG4gICAgICBpc0hpZGRlbjogY3VycmVudElzSGlkZGVuLFxuICAgIH07XG4gIH07XG5cbiAgY29uc3Qgc2V0U3RhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBpc0RlYWQsIGlzSGlkZGVuIH0gPSBwYXJhbXM7XG4gICAgaWYgKGlzRGVhZCkge1xuICAgICAgY3VycmVudElzRGVhZCA9IGlzRGVhZDtcbiAgICB9XG5cbiAgICBpZiAoaXNIaWRkZW4gIT0gdW5kZWZpbmVkKSB7XG4gICAgICBjdXJyZW50SXNIaWRkZW4gPSBpc0hpZGRlbjtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIGdldFN0YXRlLFxuICAgIHNldFN0YXRlLFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNwYWNlc2hpcDtcbiIsImltcG9ydCBTcHJpdGUgZnJvbSBcIi4uL2xpYi9TcHJpdGVcIjtcbmltcG9ydCB7IHJhbmRvbUludCB9IGZyb20gXCIuLi91dGlscy9tYXRoXCI7XG5cbmNvbnN0IEVuZW15ID0gKHBhcmFtcykgPT4ge1xuICBjb25zdCB7IHNwYXduUG9zaXRpb24sIHNwZWVkID0gNTAwIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHNwcml0ZSA9IFNwcml0ZSh7XG4gICAgdGV4dHVyZVVybDogXCIuL3Jlc291cmNlcy9FbmVteS5wbmdcIixcbiAgICBwb3NpdGlvbjogc3Bhd25Qb3NpdGlvbixcbiAgICBhbmNob3I6IHsgeDogLTE2LCB5OiAtMTYgfSxcbiAgfSk7XG4gIGxldCBjdXJyZW50SXNEZWFkID0gZmFsc2U7XG5cbiAgY29uc3QgdXBkYXRlID0gKGRlbHRhVGltZSwgY3VycmVudFRpbWUpID0+IHtcbiAgICBjb25zdCB7IHBvc2l0aW9uIH0gPSBzcHJpdGUuZ2V0U3RhdGUoKTtcblxuICAgIGNvbnN0IG5ld1ggPSBwb3NpdGlvbi54IC0gc3BlZWQgKiBkZWx0YVRpbWU7XG5cbiAgICBzcHJpdGUuc2V0U3RhdGUoe1xuICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgeDogbmV3WCxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgc2V0U3RhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBpc0RlYWQgfSA9IHBhcmFtcztcbiAgICBpZiAoaXNEZWFkKSB7XG4gICAgICBjdXJyZW50SXNEZWFkID0gaXNEZWFkO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZXRTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHBvc2l0aW9uLCB0ZXh0dXJlIH0gPSBzcHJpdGUuZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4ge1xuICAgICAgdGV4dHVyZSxcbiAgICAgIHVwZGF0ZSxcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgaXNEZWFkOiBjdXJyZW50SXNEZWFkLFxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIGdldFN0YXRlLFxuICAgIHNldFN0YXRlLFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEVuZW15O1xuIiwiaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi4vbGliL0NvbnRhaW5lclwiO1xuaW1wb3J0IEVuZW15IGZyb20gXCIuL0VuZW15XCI7XG5pbXBvcnQgeyByYW5kb21JbnQgfSBmcm9tIFwiLi4vdXRpbHMvbWF0aFwiO1xuXG5jb25zdCBFbmVteVNwYXduZXIgPSAocGFyYW1zKSA9PiB7XG4gIGNvbnN0IHsgbW92ZW1lbnRDb25zdHJhaW50cywgZW5lbXlDb250YWluZXIsIGlzSGlkZGVuIH0gPSBwYXJhbXM7XG4gIGNvbnN0IGVuZW15U2l6ZSA9IDMyO1xuICBsZXQgc3Bhd25SYXRlID0gMTsgLy9zZWNvbmRzXG4gIGxldCB0aW1lT2ZMYXN0U3Bhd24gPSAwO1xuICBsZXQgY3VycmVudElzSGlkZGVuID0gaXNIaWRkZW47XG5cbiAgY29uc3QgdXBkYXRlID0gKGRlbHRhVGltZSwgY3VycmVudFRpbWUpID0+IHtcbiAgICBjb25zdCB7IHVwZGF0ZSB9ID0gZW5lbXlDb250YWluZXIuZ2V0U3RhdGUoKTtcbiAgICB1cGRhdGUoZGVsdGFUaW1lLCBjdXJyZW50VGltZSk7XG4gICAgaWYgKHNwYXduUmF0ZSA8IGN1cnJlbnRUaW1lIC0gdGltZU9mTGFzdFNwYXduKSB7XG4gICAgICB0aW1lT2ZMYXN0U3Bhd24gPSBjdXJyZW50VGltZTtcbiAgICAgIGVuZW15Q29udGFpbmVyLnNldFN0YXRlKHtcbiAgICAgICAgbm9kZVRvQWRkOiBFbmVteSh7XG4gICAgICAgICAgc3Bhd25Qb3NpdGlvbjoge1xuICAgICAgICAgICAgeDogbW92ZW1lbnRDb25zdHJhaW50cy54ICsgZW5lbXlTaXplLFxuICAgICAgICAgICAgeTogcmFuZG9tSW50KDAsIG1vdmVtZW50Q29uc3RyYWludHMueSAtIGVuZW15U2l6ZSksXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzcGVlZDogcmFuZG9tSW50KDIwLCAyMDApLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBzcGF3blJhdGUgPSBzcGF3blJhdGUgPCAwLjA1ID8gMC42IDogc3Bhd25SYXRlICogMC45NyArIDAuMDAxO1xuICAgIH1cblxuICAgIGVuZW15Q29udGFpbmVyLnNldFN0YXRlKHtcbiAgICAgIGNhbGxiYWNrVG9NYXA6IChub2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgcG9zaXRpb24gfSA9IG5vZGUuZ2V0U3RhdGUoKTtcblxuICAgICAgICBpZiAocG9zaXRpb24ueCA8IDAgLSBlbmVteVNpemUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImRlYWQgZW5lbXlcIik7XG4gICAgICAgICAgbm9kZS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0RlYWQ6IHRydWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgc2V0U3RhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBpc0hpZGRlbiA9IGZhbHNlLCBjbGVhciA9IGZhbHNlIH0gPSBwYXJhbXM7XG4gICAgY3VycmVudElzSGlkZGVuID0gaXNIaWRkZW47XG4gICAgaWYgKGNsZWFyKSB7XG4gICAgICBlbmVteUNvbnRhaW5lci5zZXRTdGF0ZSh7XG4gICAgICAgIGNsZWFyOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgbm9kZXMgfSA9IGVuZW15Q29udGFpbmVyLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZSxcbiAgICAgIG5vZGVzLFxuICAgICAgaXNIaWRkZW46IGN1cnJlbnRJc0hpZGRlbixcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICBnZXRTdGF0ZSxcbiAgICBzZXRTdGF0ZSxcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBFbmVteVNwYXduZXI7XG4iLCJpbXBvcnQgU3ByaXRlIGZyb20gXCIuLi9saWIvU3ByaXRlXCI7XG5cbmNvbnN0IEJhY2tncm91bmQgPSAocGFyYW1zKSA9PiB7XG4gIGNvbnN0IHsgcG9zaXRpb24gfSA9IHBhcmFtcztcbiAgY29uc3Qgc3ByaXRlID0gU3ByaXRlKHtcbiAgICB0ZXh0dXJlVXJsOiBcIi4vcmVzb3VyY2VzL0JhY2tncm91bmQucG5nXCIsXG4gICAgcG9zaXRpb24sXG4gIH0pO1xuICBjb25zdCBiYWNrZ3JvdW5kV2lkdGggPSA2NDA7XG4gIGNvbnN0IHNjcm9sbFNwZWVkID0gMTA7XG5cbiAgY29uc3QgdXBkYXRlID0gKGRlbHRhVGltZSwgY3VycmVudFRpbWUpID0+IHtcbiAgICBjb25zdCB7IHBvc2l0aW9uIH0gPSBzcHJpdGUuZ2V0U3RhdGUoKTtcblxuICAgIGlmIChwb3NpdGlvbi54IDw9IC1iYWNrZ3JvdW5kV2lkdGgpIHtcbiAgICAgIHNwcml0ZS5zZXRTdGF0ZSh7XG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwcml0ZS5zZXRTdGF0ZSh7XG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgeDogcG9zaXRpb24ueCAtIHNjcm9sbFNwZWVkICogZGVsdGFUaW1lLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdGV4dHVyZSB9ID0gc3ByaXRlLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZSxcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgdGV4dHVyZSxcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICBnZXRTdGF0ZSxcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCYWNrZ3JvdW5kO1xuIiwiaW1wb3J0IEdhbWUgZnJvbSBcIi4vbGliL0dhbWVcIjtcbmltcG9ydCBUZXh0IGZyb20gXCIuL2xpYi9UZXh0XCI7XG5pbXBvcnQgS2V5Ym9hcmRDb250cm9scyBmcm9tIFwiLi9saWIvS2V5Ym9hcmRDb250cm9sc1wiO1xuaW1wb3J0IFNwYWNlc2hpcCBmcm9tIFwiLi9lbnRpdGllcy9TcGFjZXNoaXBcIjtcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIi4vbGliL0NvbnRhaW5lclwiO1xuaW1wb3J0IEVuZW15U3Bhd25lciBmcm9tIFwiLi9lbnRpdGllcy9FbmVteVNwYXduZXJcIjtcbmltcG9ydCB7IGRpc3RhbmNlIH0gZnJvbSBcIi4vdXRpbHMvbWF0aFwiO1xuaW1wb3J0IEJhY2tncm91bmQgZnJvbSBcIi4vZW50aXRpZXMvQmFja2dyb3VuZFwiO1xuXG5jb25zdCBXSURUSCA9IDY0MDtcbmNvbnN0IEhFSUdIVCA9IDMwMDtcblxubGV0IGJ1bGxldENvbnRhaW5lciA9IG51bGw7XG5sZXQgZW5lbXlDb250YWluZXIgPSBudWxsO1xuY29uc3QgY29udHJvbHMgPSBLZXlib2FyZENvbnRyb2xzKCk7XG5sZXQgc3BhY2VzaGlwID0gbnVsbDtcbmxldCBzY29yZSA9IFRleHQoe1xuICB0ZXh0OiBcIlNjb3JlOiAwXCIsXG4gIHN0eWxlczoge1xuICAgIGZpbGw6IFwiI2ZmNGQ0ZFwiLFxuICAgIGZvbnQ6IFwiMjBwdCBtb25vc3BhY2VcIixcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgfSxcbiAgcG9zaXRpb246IHtcbiAgICB4OiBXSURUSCAvIDIsXG4gICAgeTogMzAsXG4gIH0sXG4gIGlzSGlkZGVuOiB0cnVlLFxufSk7XG5sZXQgZW5lbXlTcGF3bmVyID0gbnVsbDtcbmNvbnN0IHRpdGxlID0gVGV4dCh7XG4gIHRleHQ6IFwiU3RhckJveCA2M1wiLFxuICBzdHlsZXM6IHtcbiAgICBmaWxsOiBcIiM2OWRlZmZcIixcbiAgICBmb250OiBcIjMwcHQgbW9ub3NwYWNlXCIsXG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gIH0sXG4gIHBvc2l0aW9uOiB7XG4gICAgeDogV0lEVEggLyAyLFxuICAgIHk6IDUwLFxuICB9LFxuICBpc0hpZGRlbjogZmFsc2UsXG59KTtcblxuY29uc3QgZ2FtZU92ZXJUZXh0ID0gVGV4dCh7XG4gIHRleHQ6IFwiR0FNRSBPVkVSXCIsXG4gIHN0eWxlczoge1xuICAgIGZpbGw6IFwiI2U1NWRhY1wiLFxuICAgIGZvbnQ6IFwiNTBwdCBtb25vc3BhY2VcIixcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgfSxcbiAgcG9zaXRpb246IHtcbiAgICB4OiBXSURUSCAvIDIsXG4gICAgeTogSEVJR0hUIC8gMixcbiAgfSxcbiAgaXNIaWRkZW46IHRydWUsXG59KTtcblxuY29uc3QgZ2FtZU92ZXJDb250aW51ZVRleHQgPSBUZXh0KHtcbiAgdGV4dDogXCJQcmVzcyBzcGFjZWJhciB0byByZXN0YXJ0XCIsXG4gIHN0eWxlczoge1xuICAgIGZpbGw6IFwiI2U1NWRhY1wiLFxuICAgIGZvbnQ6IFwiMTVwdCBtb25vc3BhY2VcIixcbiAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgfSxcbiAgcG9zaXRpb246IHtcbiAgICB4OiBXSURUSCAvIDIsXG4gICAgeTogMjAwLFxuICB9LFxuICBpc0hpZGRlbjogdHJ1ZSxcbn0pO1xuXG5jb25zdCBiYWNrZ3JvdW5kID0gQmFja2dyb3VuZCh7XG4gIHRleHR1cmVVcmw6IFwiLi9yZXNvdXJjZXMvQmFja2dyb3VuZC5wbmdcIixcbiAgcG9zaXRpb246IHsgeDogMCwgeTogMCB9LFxufSk7XG5jb25zdCBzdGFydEdhbWVNZXNzYWdlID0gVGV4dCh7XG4gIHRleHQ6IFwiUHJlc3Mgc3BhY2ViYXIgdG8gc3RhcnRcIixcbiAgc3R5bGVzOiB7XG4gICAgZmlsbDogXCIjMzNhNWZmXCIsXG4gICAgZm9udDogXCIxNXB0IG1vbm9zcGFjZVwiLFxuICAgIGFsaWduOiBcImNlbnRlclwiLFxuICB9LFxuICBwb3NpdGlvbjoge1xuICAgIHg6IFdJRFRIIC8gMixcbiAgICB5OiAxNTAsXG4gIH0sXG59KTtcbmNvbnN0IG15R2FtZSA9IEdhbWUoe1xuICB3aWR0aDogV0lEVEgsXG4gIGhlaWdodDogSEVJR0hULFxuICBwYXJlbnRFbGVtZW50SWRlbnRpZmllcjogXCIjYm9hcmRcIixcbn0pO1xuXG5sZXQgc2NvcmVBbW91bnQgPSAwO1xubGV0IGdhbWVTdGF0ZSA9IFwiU1RBUlRfU0NSRUVOXCI7XG5sZXQgaW5wdXREZWxheVRpbWUgPSAzOyAvL3NlY29uZHNcbmxldCBkZWxheVRpbWVFbGFwc2VkID0gMDtcbm15R2FtZS5ydW4oKGRlbHRhVGltZSwgY3VycmVudFRpbWUpID0+IHtcbiAgaWYgKGdhbWVTdGF0ZSA9PT0gXCJTVEFSVF9TQ1JFRU5cIikge1xuICAgIGNvbnN0IHsgYWN0aW9uIH0gPSBjb250cm9scy5nZXRTdGF0ZSgpO1xuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIGNoYW5nZVN0YXRlKFwiTUFJTl9HQU1FXCIpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChnYW1lU3RhdGUgPT09IFwiR0FNRV9PVkVSX1NDUkVFTlwiKSB7XG4gICAgaWYgKGRlbHRhVGltZSA8IGlucHV0RGVsYXlUaW1lKSBkZWxheVRpbWVFbGFwc2VkICs9IGRlbHRhVGltZTtcbiAgICBjb25zdCB7IGFjdGlvbiB9ID0gY29udHJvbHMuZ2V0U3RhdGUoKTtcbiAgICBpZiAoYWN0aW9uICYmIGRlbGF5VGltZUVsYXBzZWQgPiBpbnB1dERlbGF5VGltZSkge1xuICAgICAgY2hhbmdlU3RhdGUoXCJTVEFSVF9TQ1JFRU5cIik7XG4gICAgICBkZWxheVRpbWVFbGFwc2VkID0gMDtcbiAgICB9XG4gIH1cblxuICBpZiAoZ2FtZVN0YXRlID09PSBcIk1BSU5fR0FNRVwiKSB7XG4gICAgY2hlY2tGb3JDb2xsaXNpb25zKGRlbHRhVGltZSwgY3VycmVudFRpbWUpO1xuICB9XG59KTtcblxuZnVuY3Rpb24gaW5pdChkZWx0YVRpbWUsIGN1cnJlbnRUaW1lKSB7XG4gIG15R2FtZS5jbGVhclNjZW5lR3JhcGgoKTtcbiAgc2NvcmVBbW91bnQgPSAwO1xuICBidWxsZXRDb250YWluZXIgPSBDb250YWluZXIoe1xuICAgIGlzSGlkZGVuOiB0cnVlLFxuICB9KTtcblxuICBlbmVteUNvbnRhaW5lciA9IENvbnRhaW5lcigpO1xuXG4gIHNwYWNlc2hpcCA9IFNwYWNlc2hpcCh7XG4gICAgc3Bhd25Qb3NpdGlvbjogeyB4OiAxNTAsIHk6IEhFSUdIVCAvIDIgfSxcbiAgICBjb250cm9scyxcbiAgICBidWxsZXRDb250YWluZXIsXG4gICAgbW92ZW1lbnRDb25zdHJhaW50czogeyB4OiBXSURUSCwgeTogSEVJR0hUIH0sXG4gICAgaXNIaWRkZW46IHRydWUsXG4gIH0pO1xuXG4gIGVuZW15U3Bhd25lciA9IEVuZW15U3Bhd25lcih7XG4gICAgbW92ZW1lbnRDb25zdHJhaW50czoge1xuICAgICAgeDogV0lEVEgsXG4gICAgICB5OiBIRUlHSFQsXG4gICAgfSxcbiAgICBlbmVteUNvbnRhaW5lcixcbiAgICBpc0hpZGRlbjogdHJ1ZSxcbiAgfSk7XG5cbiAgbXlHYW1lLmFkZChiYWNrZ3JvdW5kKTtcbiAgbXlHYW1lLmFkZChlbmVteVNwYXduZXIpO1xuICBteUdhbWUuYWRkKHNwYWNlc2hpcCk7XG4gIG15R2FtZS5hZGQoYnVsbGV0Q29udGFpbmVyKTtcbiAgbXlHYW1lLmFkZCh0aXRsZSk7XG4gIG15R2FtZS5hZGQoc3RhcnRHYW1lTWVzc2FnZSk7XG4gIG15R2FtZS5hZGQoZ2FtZU92ZXJDb250aW51ZVRleHQpO1xuICBteUdhbWUuYWRkKGdhbWVPdmVyVGV4dCk7XG4gIG15R2FtZS5hZGQoc2NvcmUpO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VTdGF0ZShuZXdTdGF0ZSkge1xuICBpZiAobmV3U3RhdGUgPT09IFwiU1RBUlRfU0NSRUVOXCIpIHtcbiAgICBnYW1lT3ZlckNvbnRpbnVlVGV4dC5zZXRTdGF0ZSh7XG4gICAgICBpc0hpZGRlbjogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGdhbWVPdmVyVGV4dC5zZXRTdGF0ZSh7XG4gICAgICBpc0hpZGRlbjogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHNjb3JlLnNldFN0YXRlKHtcbiAgICAgIHRleHQ6IFwiU2NvcmU6IDBcIixcbiAgICB9KTtcblxuICAgIGluaXQoKTtcbiAgICBnYW1lU3RhdGUgPSBuZXdTdGF0ZTtcbiAgfVxuXG4gIGlmIChuZXdTdGF0ZSA9PT0gXCJNQUlOX0dBTUVcIikge1xuICAgIGdhbWVTdGF0ZSA9IG5ld1N0YXRlO1xuICAgIHRpdGxlLnNldFN0YXRlKHtcbiAgICAgIGlzSGlkZGVuOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgc3RhcnRHYW1lTWVzc2FnZS5zZXRTdGF0ZSh7XG4gICAgICBpc0hpZGRlbjogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHNwYWNlc2hpcC5zZXRTdGF0ZSh7XG4gICAgICBpc0hpZGRlbjogZmFsc2UsXG4gICAgfSk7XG5cbiAgICBidWxsZXRDb250YWluZXIuc2V0U3RhdGUoe1xuICAgICAgaXNIaWRkZW46IGZhbHNlLFxuICAgICAgY2xlYXI6IHRydWUsXG4gICAgfSk7XG5cbiAgICBlbmVteVNwYXduZXIuc2V0U3RhdGUoe1xuICAgICAgaXNIaWRkZW46IGZhbHNlLFxuICAgICAgY2xlYXI6IHRydWUsXG4gICAgfSk7XG5cbiAgICBzY29yZS5zZXRTdGF0ZSh7XG4gICAgICBpc0hpZGRlbjogZmFsc2UsXG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZyhzY29yZS5nZXRTdGF0ZSgpKTtcbiAgfVxuXG4gIGlmIChuZXdTdGF0ZSA9PT0gXCJHQU1FX09WRVJfU0NSRUVOXCIpIHtcbiAgICBnYW1lT3ZlclRleHQuc2V0U3RhdGUoe1xuICAgICAgaXNIaWRkZW46IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgZ2FtZU92ZXJDb250aW51ZVRleHQuc2V0U3RhdGUoe1xuICAgICAgaXNIaWRkZW46IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgZ2FtZVN0YXRlID0gbmV3U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JDb2xsaXNpb25zKGRlbHRhVGltZSwgY3VycmVudFRpbWUpIHtcbiAgY29uc3QgeyBub2RlczogYnVsbGV0cyB9ID0gYnVsbGV0Q29udGFpbmVyLmdldFN0YXRlKCk7XG4gIGNvbnN0IHsgbm9kZXM6IGVuZW1pZXMgfSA9IGVuZW15U3Bhd25lci5nZXRTdGF0ZSgpO1xuXG4gIGVuZW1pZXMubWFwKChlbmVteSkgPT4ge1xuICAgIGJ1bGxldHMubWFwKChidWxsZXQpID0+IHtcbiAgICAgIGNvbnN0IHsgcG9zaXRpb246IGJ1bGxldFBvc2l0aW9uIH0gPSBidWxsZXQuZ2V0U3RhdGUoKTtcbiAgICAgIGNvbnN0IHsgcG9zaXRpb246IGVuZW15UG9zaXRpb24gfSA9IGVuZW15LmdldFN0YXRlKCk7XG4gICAgICBpZiAoZGlzdGFuY2UoYnVsbGV0UG9zaXRpb24sIGVuZW15UG9zaXRpb24pIDwgMjQpIHtcbiAgICAgICAgYnVsbGV0LnNldFN0YXRlKHtcbiAgICAgICAgICBpc0RlYWQ6IHRydWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVuZW15LnNldFN0YXRlKHtcbiAgICAgICAgICBpc0RlYWQ6IHRydWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNjb3JlQW1vdW50ICs9IE1hdGgucm91bmQoY3VycmVudFRpbWUpO1xuICAgICAgICBzY29yZS5zZXRTdGF0ZSh7XG4gICAgICAgICAgdGV4dDogYFNjb3JlOiAke3Njb3JlQW1vdW50fWAsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgeyBwb3NpdGlvbjogZW5lbXlQb3NpdGlvbiB9ID0gZW5lbXkuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB7XG4gICAgICBwb3NpdGlvbjogc3BhY2VzaGlwUG9zaXRpb24sXG4gICAgICBpc0RlYWQ6IGlzRGVhZFNwYWNlc2hpcCxcbiAgICB9ID0gc3BhY2VzaGlwLmdldFN0YXRlKCk7XG5cbiAgICAvL2RldGVjdCBnYW1lIG92ZXJcbiAgICBpZiAoaXNEZWFkU3BhY2VzaGlwKSByZXR1cm47XG4gICAgaWYgKGRpc3RhbmNlKGVuZW15UG9zaXRpb24sIHNwYWNlc2hpcFBvc2l0aW9uKSA8IDMyKSB7XG4gICAgICBlbmVteS5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRGVhZDogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBzcGFjZXNoaXAuc2V0U3RhdGUoe1xuICAgICAgICBpc0RlYWQ6IHRydWUsXG4gICAgICB9KTtcblxuICAgICAgY2hhbmdlU3RhdGUoXCJHQU1FX09WRVJfU0NSRUVOXCIpO1xuICAgIH1cbiAgfSk7XG59XG5pbml0KCk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')}]);